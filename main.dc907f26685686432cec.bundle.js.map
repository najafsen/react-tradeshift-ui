{"version":3,"file":"main.dc907f26685686432cec.bundle.js","sources":["webpack:///./src/components/Modal/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Portal } from 'react-portal';\n\nconst noop = () => {};\n\nclass Modal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onRef = this.onRef.bind(this);\n\t\tthis.onOpen = this.onOpen.bind(this);\n\t\tthis.onClose = this.onClose.bind(this);\n\n\t\t// Sync open flag for onclose / onopen callbacks\n\t\tthis.isOpen = props.isOpen;\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.isOpen = nextProps.isOpen;\n\t\tthis.onRef(this.modalRef);\n\t}\n\n\tonClose(e) {\n\t\tthis.props.onClose(e);\n\t\treturn typeof this.isOpen !== 'undefined' ? !this.isOpen : undefined;\n\t}\n\n\tonOpen(e) {\n\t\tthis.props.onOpen(e);\n\t\treturn this.isOpen;\n\t}\n\n\tonRef(ref) {\n\t\tif (!ref) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.modalRef) {\n\t\t\tthis.modalRef = ref;\n\t\t}\n\n\t\twindow.ts.ui.get(ref, spirit => {\n\t\t\tspirit.onclose = this.onClose;\n\t\t\tspirit.onclosed = this.props.onClosed;\n\t\t\tspirit.onopen = this.onOpen;\n\t\t\tspirit.onopened = this.props.onOpened;\n\t\t\tif (this.props.buttons) {\n\t\t\t\tspirit.buttons(this.props.buttons);\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\tconst modalProps = {\n\t\t\t'data-ts.title': this.props.title,\n\t\t\t'data-ts.open': this.props.isOpen\n\t\t};\n\t\treturn (\n\t\t\t<Portal>\n\t\t\t\t<dialog data-ts=\"Modal\" {...modalProps} ref={this.onRef}>\n\t\t\t\t\t<div data-ts=\"Panel\">{this.props.children}</div>\n\t\t\t\t</dialog>\n\t\t\t</Portal>\n\t\t);\n\t}\n}\n\nModal.propTypes = {\n\tchildren: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n\tisOpen: PropTypes.bool,\n\tonClose: PropTypes.func,\n\tonClosed: PropTypes.func,\n\tonOpen: PropTypes.func,\n\tonOpened: PropTypes.func,\n\ttitle: PropTypes.string,\n\tbuttons: PropTypes.arrayOf(PropTypes.object)\n};\n\nModal.defaultProps = {\n\tchildren: null,\n\tisOpen: undefined,\n\tonClose: noop,\n\tonClosed: noop,\n\tonOpen: noop,\n\tonOpened: noop,\n\ttitle: 'Modal',\n\tbuttons: undefined\n};\n\nexport default Modal;\n"],"mappings":"AAIA","sourceRoot":""}